<html data-bs-theme="dark" lang="en">
    <head>
        <title>DK64 Randomizer Cosmetic Pack Builder</title>
		<link rel="stylesheet" href="style/main.css">
        <link rel="stylesheet" href="style/home.css">
        <link rel="stylesheet" href="style/midi-converter.css">
        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
		<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
		<link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
		<link rel="manifest" href="/site.webmanifest">
		<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
		<meta name="msapplication-TileColor" content="#da532c">
		<meta name="theme-color" content="#ffffff">
		<meta name="description" content="" />
        <meta charset="UTF-8">
        <!-- Discord -->
        <meta content="DK64 Pack Builder" property="og:title" />
        <meta content="Music Pack creator for Donkey Kong 64, serving as hub for video game songs which have been transposed to the DK64 soundfont." property="og:description" />
        <meta content="DK64 Utils" property="og:site_name" />
        <meta content="https://raw.githubusercontent.com/theballaam96/theballaam96.github.io/master/assets/head.png" property="og:image" />
        <!-- Scripts and Styles -->
        <link rel="stylesheet" href="//code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
        <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
        <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.0/FileSaver.min.js"></script>

        <style>
            #song_list .game-header {
                background-color: rgba(0,0,0,0.8);
                border: 2px solid white;
                border-radius: 5px;
                padding: 5px;
                cursor: pointer;
                transition: 0.1s ease-in-out;
                margin: 5px;
            }
            #song_list[render=grid][gridtext=hide] .game-icon {
                margin-top: 15px;
            }
            #song_list .game-header:hover {
                background-color: rgba(255, 255, 255, 0.2);
            }
            #song_list .game-header .game-icon {
                display: none;
            }
            #song_list[render=grid] .game-header .game-icon {
                text-align: center;
                padding: 5px;
                display: flex;
                align-items: center;
                height: 64px;
            }
            #song_list[render=grid] .game-header .game-internal-name {
                text-align: center;
                overflow: hidden;
                font-size: 1vw;
                padding: 5px;
                height: calc(15vh - 64px - 10px - 10px);
                transition: 0.1s ease-in-out;
                opacity: 100%;
            }
            #song_list[render=grid][gridtext=hide] .game-header .game-internal-name {
                display: none;
                opacity: 0;
            }
            .game-songs {
                background-color: rgba(0,0,0,0.2);
                padding-bottom: 10px;
                padding-left: 10px;
                border-bottom: 1px solid white;
            }
            .panel-sep {
                display: flex;
            }
            .panel-sep-anti {
                display: block;
            }
            #song_list {
                grid-template-columns: 50% 50%;
            }
            #song_list[render=grid] {
                grid-template-columns: 16% 16% 16% 16% 16% 16%;
            }
            .popup_background, .popup_background-fade {
                background-color: rgba(0,0,0,0.5);
                position:fixed;
                top:0;
                left:0;
                width:100%;
                height:100%;
            }
            .popup_background-fade {
                background-color: rgba(0, 0, 0, 1);
                opacity: 100;
                transition: 0.1s ease-in-out;
            }
            .popup_prompt {
                background-color: #15172b;
                border-radius: 20px;
                box-sizing: border-box;
                max-height: 70%;
                padding: 20px;
                width: 50%;
                position: relative;
                margin-left: auto;
                margin-right: auto;
                top: 50%;
                transform: translateY(-50%);
                /*text-align: center;*/
                color: white;
                overflow-y: auto;
            }
            .popup_head {
                color: #eee;
                font-family: sans-serif;
                font-size: 36px;
                font-weight: 600;
                margin-top: 30px;
            }
            .popup_subtitle {
                color: #eee;
                font-family: sans-serif;
                font-size: 16px;
                font-weight: 600;
                margin-top: 10px;
            }
            .song-item .new-pill {
                display: none;
            }
            .song-item.song-new .new-pill {
                display: inline-block;
            }
            .popup_buttons {
                flex: 1;
                margin: 5px;
            }
            .popup_controls {
                margin-bottom: 20px;
            }
            .name_meta_data {
                padding-left: 5px;
                flex: 2;
            }
            #song_selected_count {
                transition: 0.1s ease-in-out;
                width: fit-content;
            }
            .errored {
                background-color: #b00000;
            }
            #button-panel {
                margin-top: 10px;
            }
            @media only screen and (max-width: 1500px) {
                .popup_prompt {
                    width: 70%;
                }
            }
            @media only screen and (max-width: 1200px) {
                #song_list {
                    grid-template-columns: 100%;
                }
                #song_list[render=grid] {
                    grid-template-columns: 33% 33% 33%;
                }
                #song_list[render=grid] .game-header .game-internal-name {
                    font-size: 2vw;
                }
            }
            button {
                width: calc(100% - 10px);
                margin: 5px;
            }
            @media only screen and (max-width: 1000px) {
                .popup_prompt {
                    width: 90%;
                }
                .panel-sep {
                    display: block;
                }
                .panel-sep-anti {
                    display: flex;
                }
                .sep-left {
                    border-right: none;
                }
            }
            /*input[type=text], #advf-container select {
                background-color: #303245;
                border-radius: 5px;
                border: 0;
                box-sizing: border-box;
                color: #eee;
                font-size: 18px;
                outline: 0;
                padding: 7px 20px;
                width: -webkit-fill-available;
                width: -moz-fill-available;
                margin: 5px;
            }*/
            #search-game {
                height: 100%;
            }
            .audio_positioner_container {
                width: 100%;
                position: relative;
            }
            .audio_positioner {
                top:0;
                right: 0;
                position: absolute;
                height: 20px;
            }
            .audio-close-container {
                text-align: right;
            }
            .audio_positioner_internal {
                padding: 2px;
                margin-top: 2px;
                margin-right: 5px;;
                transition: 0.1s ease-in-out;
            }
            /*.audio_positioner_internal:hover {
                color: rgba(13, 202, 240, 0.7);
            }*/
            .audio-close {
                width: fit-content;
                margin-left: auto;
                padding: 5px;
                transition: 0.1s ease-in-out;
                border-radius: 5px;
            }
            .audio-close:hover {
                background-color: rgba(255, 255, 255, 0.4);
            }
            .fixed-body {
                overflow-y: clip;
            }
            .load_bar {
                height: 10px;
            }
            #loading_left{
                background-color: #7c80a3;
            }
            #loading_right{
                background-color: #20254f;
            }
            .game-image {
                max-width: 100%;
                max-height: 64px;
                margin-left: auto;
                margin-right: auto;
                /*vertical-align: middle;*/
            }
            .game-image-replacement {
                height: 64px;
                font-size: 1vw;
                overflow: hidden;
            }
            #song_list[gridtext=hide] .game-image.no-icon {
                display: none;
            }
            #song_list[gridtext=show] .game-image-replacement {
                display: none;
            }
            .game-fullness-panel {
                height: 10px;
                padding: 2.5px;
            }
            .panel-all, .panel-some, .panel-new {
                width: 10px;
                height: 10px;
                border-radius: 10px;
            }
            .panel-all {
                background-color: green;
            }
            .panel-some {
                background-color: white;
            }
            .panel-new {
                background-color: dodgerblue;
                content: "!";
            }
            /*
            #advf-container {
                margin-top: 20px;
            }
            #advf-container input, #advf-container select {
                margin-bottom: 10px;
            }
            */
            .slider-range {
                border-radius: 50px;
                height: 8px;
                margin-top: 10px;
                margin-bottom: calc(40px);
                width: 90%;
                margin-left: auto;
                margin-right: auto;
            }
            .slider-range .ui-slider-range {
                background-color: dodgerblue;
            }
            .slider-range .ui-slider-handle {
                border-radius: 100px;
                background-color: dodgerblue;
                top: calc(-0.3em - 1px);
            }
            .slider-range .ui-slider-timecode {
                position: absolute;
                color: white;
                font-weight: bold;
                top: 20px;
            }
            .advf-hint {
                font-size: 75%;
                font-style: italic;
                padding-bottom: 5px;
            }
            #tag-list {
                flex-wrap: wrap;
            }
            .advf-tag-container {
                flex: 1;
                min-width: 33%;
                max-width: 33%;
            }
            .bs-checkbox-right {
                border: 2px solid white;
                border-top-right-radius: 5px;
                border-bottom-right-radius: 5px;
                padding: 5px;
            }
            /*
            .icon-alignment {
                display: inline-block;
                height: 100%;
                vertical-align: middle;
            }
            */
            body {
                background-image: none;
                background-color: rgba(30, 30, 30, 1);
            }
            html[data-bs-theme="dark"].main_panel {
                color: white;
            }
            .header_main, .header_sub {
                text-align: center;
                font-weight: 600;
            }
            .header_main {
                font-size: 2rem;
            }
            .header_sub {
                font-size: 1.75rem;
            }
            #load-event {
                transition: 1.0s ease-in-out;
                background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("assets/bckgrnd.png");
            }
            .midi-tag {
                padding: 0px 2px;
            }
            .handle-overflow {
                text-overflow: ellipsis;
                -o-text-overflow: ellipsis;
                -ms-text-overflow: ellipsis;
                white-space: nowrap;
                overflow: hidden;
            }
            .content-center {
                width: 75%;
                margin-left: auto;
                margin-right: auto;
            }
            .midi-grid {
                display: grid;
                grid-template-columns: 33% 33% 33%;
            }
            @media only screen and (max-width: 750px) {
                .midi-grid {
                    grid-template-columns: 50% 50%;
                }
            }
            @media only screen and (max-width: 500px) {
                .midi-grid {
                    grid-template-columns: 100% 100%;
                }
                .content-center {
                    width: 95%;
                }
            }
            .breadcrumb-container {
                padding: 10px;
                display: flex;
            }
            #popup_master_controls {
                margin-left: auto;
                flex: 1;
            }
            .has-transition {
                transition: 0.1s ease-in-out;
            }
            #audio-event-content {
                text-align: center;
            }
            .fix-bottom {
                position: fixed;
                bottom: 0;
                background: rgba(30, 30, 30, 1);
                margin-top: 10px;
                left: 12.5%;
            }
            .bottom-line {
                padding-bottom: 2px;
                border-bottom: 1px solid gray;
            }
            .midi-tray {
                padding: 5px 0px;
                overflow: hidden;
                white-space: nowrap;
                text-overflow: ellipsis;
            }
            .list-group-item small {
                color: #777;
            }
            .list-group-item small .new_count {
                color: rgb(13, 202, 240);
            }
            .list-group-item.active small {
                color: #fff;
            }
            .scroll-panel {
                height: 74vh;
            }
            #player {
                display: none;
            }
            .song-seek {
                -webkit-appearance: none; /* remove default styling */
                width: 100%;
                height: 2px; /* thin track */
                background: white;
                border-radius: 1px;
                outline: none;
                margin: 10px 0;
            }

            /* Webkit browsers */
            .song-seek::-webkit-slider-thumb {
                -webkit-appearance: none;
                width: 6px;
                height: 6px;
                background: white;
                border-radius: 50%;
                cursor: pointer;
                margin-top: -1px; /* center thumb on thin track */
            }

            /* Firefox */
            .song-seek::-moz-range-thumb {
                width: 6px;
                height: 6px;
                background: white;
                border: none;
                border-radius: 50%;
                cursor: pointer;
            }

            /* IE */
            .song-seek::-ms-thumb {
                width: 6px;
                height: 6px;
                background: white;
                border-radius: 50%;
                cursor: pointer;
            }

            /* Optional: track styling for Firefox */
            .song-seek::-moz-range-track {
                background: white;
                height: 4px;
                border-radius: 2px;
            }

            /* Optional: track styling for IE */
            .song-seek::-ms-track {
                background: transparent;
                border-color: transparent;
                color: transparent;
                height: 2px;
            }

            .song-play, .btn-media {
                background-color: rgba(255, 255, 255, 0);
                border-radius: 300px;
                border-color: none;
                transition: 0.3s ease-in-out;
            }
            .song-play:disabled, .btn-media:disabled {
                border: 0;
            }
            .song-play:hover, .btn-media:hover {
                background-color: rgba(255, 255, 255, 0.3);
            }
            .song-time {
                padding-top: 6px;
            }
            #game_list li.filter-invalidated, .song-item.filter-invalidated {
                display: none;
            }

            .texture-tabs-container {
                gap: 20px;
                min-height: 400px;
            }
            .texture-nav-tabs {
                min-width: 180px;
                max-width: 180px;
                border-right: 1px solid #444;
                padding-right: 10px;
            }
            .texture-nav-tabs .nav-link {
                text-align: left;
                border-radius: 8px;
                margin-bottom: 5px;
                padding: 10px 15px;
                color: #aaa;
                transition: 0.2s ease-in-out;
                display: flex;
                align-items: center;
                justify-content: space-between;
            }
            .texture-nav-tabs .nav-link:hover {
                background-color: rgba(255, 255, 255, 0.1);
                color: #fff;
            }
            .texture-nav-tabs .nav-link.active {
                background-color: #0d6efd;
                color: #fff;
            }
            .texture-nav-tabs .nav-link i {
                width: 20px;
                margin-right: 8px;
            }
            .texture-tab-content {
                padding-left: 20px;
            }
            .texture-drop-zone {
                border: 3px dashed #555;
                border-radius: 10px;
                padding: 30px;
                text-align: center;
                background-color: rgba(0,0,0,0.2);
                transition: 0.3s ease-in-out;
                cursor: pointer;
                min-height: 200px;
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
            }
            .texture-drop-zone:hover {
                background-color: rgba(0,0,0,0.4);
                border-color: #777;
            }
            .texture-drop-highlight {
                background-color: rgba(13, 110, 253, 0.2) !important;
                border-color: #0d6efd !important;
            }
            .texture-preview-container {
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
                gap: 10px;
                margin-top: 15px;
                max-height: 300px;
                overflow-y: auto;
                padding: 5px;
            }
            .texture-preview-item {
                position: relative;
                border: 2px solid #444;
                border-radius: 8px;
                padding: 5px;
                background-color: rgba(0,0,0,0.3);
                transition: 0.2s ease-in-out;
            }
            .texture-preview-item:hover {
                border-color: #0d6efd;
                transform: translateY(-2px);
            }
            .texture-preview-img {
                width: 100%;
                height: 80px;
                object-fit: contain;
                border-radius: 4px;
                background-color: rgba(255,255,255,0.05);
            }
            .texture-preview-name {
                font-size: 0.75rem;
                margin-top: 5px;
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
                text-align: center;
            }
            .texture-remove-btn {
                position: absolute;
                top: 2px;
                right: 2px;
                width: 24px;
                height: 24px;
                padding: 0;
                border-radius: 50%;
                opacity: 0.7;
            }
            .texture-remove-btn:hover {
                opacity: 1;
            }
            .texture-category {
                border-bottom: 1px solid #444;
                padding-bottom: 20px;
            }
            .texture-category:last-child {
                border-bottom: none;
            }
            #texture-badge {
                margin-left: 5px;
            }
        </style>
    </head>
    <body class="overflow-y-hidden">
        <nav class="navbar sticky-top navbar-expand-lg bg-body-tertiary">
            <div class="container-fluid">
                <a class="navbar-brand excluded_link" href="#" onclick="hidePopup()">
                    Pack Builder
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation" style="width:fit-content;width:-moz-fit-content">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle excluded_link" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                File
                            </a>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item excluded_link" href="#" onclick="buildCandyPack()" id="build-pack-button"><i class="fa-solid fa-download"></i> Download Candy Pack (Categorized)</a></li>
                                <li><a class="dropdown-item excluded_link" href="#" onclick="buildBinaryPack()"><i class="fa-solid fa-download"></i> Download Binary Pack</a></li>
                                <li><a class="dropdown-item d-flex"><input type="checkbox" id="unsafe-song-toggle" class="form-check" /><label for="unsafe-song-toggle" class="ps-2">Include Unsafe Tracks</label></a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><a class="dropdown-item excluded_link" href="#" onclick="uploadPack()"><i class="fa-solid fa-upload"></i> Upload Pack</a></li>
                            </ul>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link excluded_link" href="#" onclick="produceSelectAllSongsWarning()"><i id="select-all-songs-fa" class="fa-solid fa-square-check"></i> <span id="select-all-songs">Select all Songs</span></a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link excluded_link" href="#" data-bs-toggle="modal" data-bs-target="#textureModal"><i class="fa-solid fa-image"></i> Manage Textures <span id="texture-badge" class="badge bg-primary" style="display:none;">0</span></a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle excluded_link" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                Misc
                            </a>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item excluded_link" href="#" data-bs-toggle="modal" data-bs-target="#changelogModal"><i class="fa-solid fa-clipboard"></i> Song Changelog</a></li>
                                <li><a class="dropdown-item excluded_link" href="https://theballaam96.github.io/submission_form" rel="noreferrer noopener" target="_blank"><i class="fa-solid fa-music"></i> Submit Song</a></li>
                                <li><a class="dropdown-item excluded_link" href="https://theballaam96.github.io/music_converter" rel="noreferrer noopener" target="_blank"><i class="fa-solid fa-arrows-rotate"></i> Convert Song</a></li>
                                <li><a class="dropdown-item excluded_link" href="#" onclick="getShareLink(true, false, false, 0, false)"><i class="fa-solid fa-link"></i> Get Shareable Link</a></li>
                                <li><a class="dropdown-item excluded_link" href="#" onclick="getYTPlaylist()"><i class="fa-brands fa-youtube"></i> Get YouTube Playlist</a></li>
                                <li><a class="dropdown-item excluded_link" href="#" onclick="playRandomSong()"><i class="fa-solid fa-dice-five"></i> Play Random Song</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        <input type="file" class="hide" accept=".zip" id="uploaded_pack" />
        <div class="main_panel">
            <!-- Song Changelog Modal -->
            <div class="modal fade" id="changelogModal" tabindex="-1" aria-labelledby="changelogModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h1 class="modal-title fs-5" id="changelogModalLabel">Song Changelog</h1>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <div id="popup_recent"></div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Play Song Modal -->
            <div class="modal modal-lg fade" data-bs-backdrop="static" data-bs-keyboard="false" id="playSongModal" tabindex="-1" aria-labelledby="playSongModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h1 class="modal-title fs-5" id="playSongModalLabel">Playing Song</h1>
                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" onclick="closeSong()" id="playSongModalClose"></button>
                    </div>
                    <div class="modal-body">
                        <div id="audio-event-content">
                            <audio controls>
                                <source src="" type="audio/mpeg">
                            </audio>
                        </div>
                    </div>
                  </div>
                </div>
            </div>
            <!-- Advanced Filters Modal -->
            <div class="modal fade" id="filterModal" tabindex="-1" aria-labelledby="filterModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h1 class="modal-title fs-5" id="filterModalLabel">Advanced Filters</h1>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <div class="row g-3">
                                <!-- Song Name -->
                                <div class="col-md-6">
                                    <div class="form-floating">
                                    <input type="search" class="form-control" id="filter-songname" placeholder="Here Comes Trouble">
                                    <label for="filter-songname">Song Name</label>
                                    </div>
                                </div>
                                <!-- Group -->
                                <div class="col-md-6">
                                    <div class="form-floating">
                                    <select class="form-select" id="filter-group" aria-label="Group Filter">
                                        <option value="any" selected>Any</option>
                                        <option value="bgm">Background Music</option>
                                        <option value="events">Events</option>
                                        <option value="majoritems">Major Items</option>
                                        <option value="minoritems">Minor Items</option>
                                    </select>
                                    <label for="filter-group">Song Group</label>
                                    </div>
                                </div>
                                <!-- Composer -->
                                <div class="col-md-6">
                                    <div class="form-floating">
                                    <input type="search" class="form-control" id="filter-composer" placeholder="Grant Kirkhope">
                                    <label for="filter-composer">Composer</label>
                                    </div>
                                </div>
                                <!-- Converter -->
                                <div class="col-md-6">
                                    <div class="form-floating">
                                    <input type="search" class="form-control" id="filter-converter" placeholder="Ballaam">
                                    <label for="filter-converter">Converter</label>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-3 mb-1">
                                This option will only filter after uploading a previously-made pack.
                            </div>
                            <div class="row g-3">
                                <!-- Is New -->
                                <div class="col-md-6">
                                    
                                    <div class="form-floating">
                                        <select class="form-select" id="filter-new" aria-label="New Filter">
                                            <option value="any" selected>Don't care</option>
                                            <option value="not-new">Not New</option>
                                            <option value="new">New</option>
                                        </select>
                                        <label for="filter-new">Song Group</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <div class="d-flex" style="width: 100%">
                                <button type="button" class="btn btn-primary" style="width:50%" onclick="resetFilters()">Reset Filters</button>
                                <button type="button" class="btn btn-success" style="width:50%" data-bs-dismiss="modal" onclick="rebuildView()">Apply Filters</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Select all songs warning -->
            <button id="sasWarningInitiator" type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#sasModal" hidden></button>
            <div class="modal fade" id="sasModal" tabindex="-1" aria-labelledby="sasModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content" style="background-color:#300">
                        <div class="modal-header">
                            <h1 class="modal-title fs-5" id="sasModalLabel">Warning</h1>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <p>You have clicked "Select all Songs" or "Deselect all songs". If you have spent time selecting specific songs, this is going to effectively erase that progress.</p>
                            <p>Are you sure you want to do this?</p>
                        </div>
                        <div class="modal-footer">
                            <div class="d-flex">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">No</button>
                                <button type="button" class="btn btn-success" data-bs-dismiss="modal" onclick="selectAllSongs()">Yes</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Texture Manager Modal -->
            <div class="modal fade" id="textureModal" tabindex="-1" aria-labelledby="textureModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-xl">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h1 class="modal-title fs-5" id="textureModalLabel">Texture Manager</h1>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <div class="mb-3">
                                <p>Upload custom textures to include in your pack. Select a category and drag & drop or browse for images.</p>
                                <div class="d-flex justify-content-between align-items-center">
                                    <span id="texture-total-count" class="badge bg-info">0 textures total</span>
                                    <button type="button" class="btn btn-sm btn-warning" onclick="window.clearAllTextures()">
                                        <i class="fa-solid fa-trash"></i> Clear All
                                    </button>
                                </div>
                            </div>

                            <div class="d-flex align-items-start texture-tabs-container">
                                <!-- Vertical Tabs -->
                                <div class="nav flex-column nav-pills texture-nav-tabs" id="texture-tabs" role="tablist" aria-orientation="vertical">
                                    <button class="nav-link active" id="paintings-tab" data-bs-toggle="pill" data-bs-target="#paintings" type="button" role="tab" aria-controls="paintings" aria-selected="true">
                                        <i class="fa-solid fa-image"></i> Paintings 
                                        <span id="texture-count-paintings" class="badge bg-secondary ms-2">0</span>
                                    </button>
                                    <button class="nav-link" id="reels-tab" data-bs-toggle="pill" data-bs-target="#reels" type="button" role="tab" aria-controls="reels" aria-selected="false">
                                        <i class="fa-solid fa-film"></i> Reels 
                                        <span id="texture-count-reels" class="badge bg-secondary ms-2">0</span>
                                    </button>
                                    <button class="nav-link" id="items-tab" data-bs-toggle="pill" data-bs-target="#items" type="button" role="tab" aria-controls="items" aria-selected="false">
                                        <i class="fa-solid fa-cube"></i> Items 
                                        <span id="texture-count-items" class="badge bg-secondary ms-2">0</span>
                                    </button>
                                    <button class="nav-link" id="tns_portal-tab" data-bs-toggle="pill" data-bs-target="#tns_portal" type="button" role="tab" aria-controls="tns_portal" aria-selected="false">
                                        <i class="fa-solid fa-door-open"></i> T&S Portals 
                                        <span id="texture-count-tns_portal" class="badge bg-secondary ms-2">0</span>
                                    </button>
                                    <button class="nav-link" id="transitions-tab" data-bs-toggle="pill" data-bs-target="#transitions" type="button" role="tab" aria-controls="transitions" aria-selected="false">
                                        <i class="fa-solid fa-shuffle"></i> Transitions 
                                        <span id="texture-count-transitions" class="badge bg-secondary ms-2">0</span>
                                    </button>
                                    <button class="nav-link" id="arcade_sprites-tab" data-bs-toggle="pill" data-bs-target="#arcade_sprites" type="button" role="tab" aria-controls="arcade_sprites" aria-selected="false">
                                        <i class="fa-solid fa-gamepad"></i> Arcade Sprites 
                                        <span id="texture-count-arcade_sprites" class="badge bg-secondary ms-2">0</span>
                                    </button>
                                </div>

                                <!-- Tab Content -->
                                <div class="tab-content flex-grow-1 texture-tab-content" id="texture-tabContent">
                                    <!-- Paintings -->
                                    <div class="tab-pane fade show active" id="paintings" role="tabpanel" aria-labelledby="paintings-tab">
                                        <div class="texture-drop-zone" id="texture-drop-paintings">
                                            <i class="fa-solid fa-cloud-arrow-up fa-3x mb-2"></i>
                                            <p>Drag images here or</p>
                                            <button type="button" class="btn btn-primary btn-sm" id="texture-browse-paintings">Browse Files</button>
                                            <input type="file" id="texture-input-paintings" accept=".png,.jpg,.jpeg" multiple hidden />
                                        </div>
                                        <div class="texture-preview-container" id="texture-preview-paintings"></div>
                                    </div>

                                    <!-- Reels -->
                                    <div class="tab-pane fade" id="reels" role="tabpanel" aria-labelledby="reels-tab">
                                        <div class="texture-drop-zone" id="texture-drop-reels">
                                            <i class="fa-solid fa-cloud-arrow-up fa-3x mb-2"></i>
                                            <p>Drag images here or</p>
                                            <button type="button" class="btn btn-primary btn-sm" id="texture-browse-reels">Browse Files</button>
                                            <input type="file" id="texture-input-reels" accept=".png,.jpg,.jpeg" multiple hidden />
                                        </div>
                                        <div class="texture-preview-container" id="texture-preview-reels"></div>
                                    </div>

                                    <!-- Items -->
                                    <div class="tab-pane fade" id="items" role="tabpanel" aria-labelledby="items-tab">
                                        <div class="texture-drop-zone" id="texture-drop-items">
                                            <i class="fa-solid fa-cloud-arrow-up fa-3x mb-2"></i>
                                            <p>Drag images here or</p>
                                            <button type="button" class="btn btn-primary btn-sm" id="texture-browse-items">Browse Files</button>
                                            <input type="file" id="texture-input-items" accept=".png,.jpg,.jpeg" multiple hidden />
                                        </div>
                                        <div class="texture-preview-container" id="texture-preview-items"></div>
                                    </div>

                                    <!-- T&S Portals -->
                                    <div class="tab-pane fade" id="tns_portal" role="tabpanel" aria-labelledby="tns_portal-tab">
                                        <div class="texture-drop-zone" id="texture-drop-tns_portal">
                                            <i class="fa-solid fa-cloud-arrow-up fa-3x mb-2"></i>
                                            <p>Drag images here or</p>
                                            <button type="button" class="btn btn-primary btn-sm" id="texture-browse-tns_portal">Browse Files</button>
                                            <input type="file" id="texture-input-tns_portal" accept=".png,.jpg,.jpeg" multiple hidden />
                                        </div>
                                        <div class="texture-preview-container" id="texture-preview-tns_portal"></div>
                                    </div>

                                    <!-- Transitions -->
                                    <div class="tab-pane fade" id="transitions" role="tabpanel" aria-labelledby="transitions-tab">
                                        <div class="alert alert-info d-flex align-items-center mb-3" role="alert">
                                            <i class="fa-solid fa-circle-info me-2"></i>
                                            <div class="flex-grow-1">Need to create a transition?</div>
                                            <a href="https://theballaam96.github.io/transition_editor.html" target="_blank" rel="noopener noreferrer" class="btn btn-sm btn-info">
                                                <i class="fa-solid fa-paintbrush"></i> Open Transition Editor
                                            </a>
                                        </div>
                                        <div class="texture-drop-zone" id="texture-drop-transitions">
                                            <i class="fa-solid fa-cloud-arrow-up fa-3x mb-2"></i>
                                            <p>Drag images here or</p>
                                            <button type="button" class="btn btn-primary btn-sm" id="texture-browse-transitions">Browse Files</button>
                                            <input type="file" id="texture-input-transitions" accept=".png,.jpg,.jpeg" multiple hidden />
                                        </div>
                                        <div class="texture-preview-container" id="texture-preview-transitions"></div>
                                    </div>

                                    <!-- Arcade Sprites -->
                                    <div class="tab-pane fade" id="arcade_sprites" role="tabpanel" aria-labelledby="arcade_sprites-tab">
                                        <div class="texture-drop-zone" id="texture-drop-arcade_sprites">
                                            <i class="fa-solid fa-cloud-arrow-up fa-3x mb-2"></i>
                                            <p>Drag images here or</p>
                                            <button type="button" class="btn btn-primary btn-sm" id="texture-browse-arcade_sprites">Browse Files</button>
                                            <input type="file" id="texture-input-arcade_sprites" accept=".png,.jpg,.jpeg" multiple hidden />
                                        </div>
                                        <div class="texture-preview-container" id="texture-preview-arcade_sprites"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Toasts -->
            <div id="toasts">
                <div class="toast-container position-fixed bottom-0 end-0 p-3"></div>
            </div>
            <!-- Random Song Toast -->
            <div id="rs-toast">
                <div class="toast-container position-fixed bottom-0 start-50 translate-middle-x">
                    <div class="toast fade" role="alert" aria-live="assertive" aria-atomic="true" id="rs-toast-inner">
                        <div class="toast-body">
                            <div class="d-flex justify-content-between">
                                <div>
                                    <!-- Song Info -->
                                    <div>
                                        <i class="fa-solid fa-music" style="width: 20px"></i>
                                        <span id="rs-song" class="fw-bold"></span>
                                    </div>
                                    <div>
                                        <i class="fa-solid fa-gamepad" style="width: 20px"></i>
                                        <span id="rs-game"></span>
                                    </div>
                                </div>
                                <div class="position-relative">
                                    <!-- Volume Control -->
                                    <button class="btn btn-sm btn-media" id="volume-control-btn" data-bs-toggle="modal" data-bs-target="#volumeModal">
                                        <i class="fa-solid fa-volume-high"></i>
                                    </button>
                                    <div class="modal fade rounded-pill card start-100 top-50 translate-middle-y position-absolute" style="width: fit-content; height: fit-content" id="volumeModal" tabindex="-1" aria-labelledby="volume-control-btn" aria-hidden="true">
                                        <div class="modal-dialog my-0">
                                            <div class="modal-content ps-3 pe-1" style="height: fit-content">
                                                <div class="d-flex">
                                                    <div class="position-relative" style="width: 80px">
                                                        <div class="position-absolute top-50 translate-middle-y">
                                                            <input type="range" class="song-seek" id="rs-volume" />
                                                        </div>
                                                    </div>
                                                    <button type="button" class="btn-close btn-sm" data-bs-dismiss="modal" aria-label="Close" style="font-size: 0.5rem"></button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-2">
                                <input type="range" class="song-seek" value="0" id="rs-seek" />
                            </div>
                            <div>
                                <div class="d-flex justify-content-between">
                                    <div class="text-start">
                                        <span id="song-time"></span>
                                    </div>
                                    <div>
                                        <!-- Shuffle -->
                                        <button type="button" class="btn btn-sm btn-media text-secondary" title="Shuffle" id="rs-shuffle" style="width: fit-content">
                                            <i class="fa-solid fa-shuffle"></i>
                                        </button>
                                        <!-- Prev -->
                                        <button type="button" class="btn btn-sm btn-media text-secondary" title="Previous Track" id="rs-prev" style="width: fit-content" disabled>
                                            <i class="fa-solid fa-backward-fast"></i>
                                        </button>
                                        <!-- Play/Pause -->
                                        <button type="button" class="btn btn-sm btn-media" title="Toggle Playing" id="rs-toggle" style="width: fit-content">
                                            <i class="fa-solid fa-play"></i>
                                        </button>
                                        <!-- Next -->
                                        <button type="button" class="btn btn-sm btn-media" title="Next Track" id="rs-next" style="width: fit-content">
                                            <i class="fa-solid fa-forward-fast"></i>
                                        </button>
                                        <!-- Goto Game -->
                                        <button type="button" class="btn btn-sm btn-media text-secondary" title="Go to Game" id="rs-goto" style="width: fit-content" disabled>
                                            <i class="fa-solid fa-arrow-up-right-from-square"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- YT Player -->
            <div id="player"></div>
            <div>
                <div id="song_selected_count" class="has-transition ms-auto p-2">0/0 songs selected</div>
            </div>
            <div class="px-4">
                <div class="d-flex">
                    <div style="width: 40%">
                        <div class="d-flex">
                            <div class="flex-grow-1">
                                <div class="input-group">
                                    <span class="input-group-text" id="search_head">
                                        <i class="fa-solid fa-magnifying-glass"></i>
                                    </span>
                                    <input type="search" id="search_game_input" placeholder="Search Game..." class="form-control" aria-label="Search Game" aria-describedby="search_head" style="border-top-right-radius: 0px; border-bottom-right-radius: 0px" />
                                </div>
                            </div>
                            <div>
                                <button class="btn btn-outline-secondary m-0" type="button" title="Filter Songs" style="height: 100%; width: fit-content; border-top-left-radius: 0px; border-bottom-left-radius: 0px" data-bs-toggle="modal" data-bs-target="#filterModal">
                                    <i class="fa-solid fa-filter"></i>
                                </button>
                            </div>
                        </div>
                        <div class="overflow-y-scroll scroll-panel" style="height: 70vh">
                            <ul id="game_list" class="list-group" role="tablist"></ul>
                        </div>
                    </div>
                    <div id="song_panel" class="overflow-y-scroll tab-content p-4 scroll-panel" style="width: 60%"></div>
                </div>
                <div id="song_list" class="has-transition" style="display:grid; opacity: 1" render="grid" defaultrender="grid" gridtext="hide"></div>
                <div id="popup_global_container" class="has-transition" hidden style="opacity:0">
                    <h1 id="popup_game_name">Add Songs to List</h1>
                    <div>
                        Hide Credits:
                        <input type="checkbox" id="credits_hidden"/>
                    </div>
                    <div id="popup_controls" style="padding-bottom: 100px"></div>
                </div>
            </div>
        </div>
        <div class="popup_background hide" id="audio-event" style="z-index:2000">
            <div class="popup_prompt" style="width:fit-content">
                <div class="audio-close-container">
                    <button type="button" class="btn-close btn-close-white" aria-label="Close" onclick="closeSong()"></button>
                </div>
                
            </div>
        </div>
        <div class="popup_background" id="load-event" style="opacity:1; z-index: 5000">
            <div class="popup_prompt">
                <div class="popup_head">Loading Site Data</div>
                <div class="progress" style="color:black" role="progressbar" id="loading_bar" aria-label="Loading Progress" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                    <div class="progress-bar bg-success" style="width: 0%; color: black">0%</div>
                  </div>
                <div id="loading_text"></div>
            </div>
        </div>
        <div id="lazy-loader"><img id=lazy-img-loader height="1px" width="1px"/></div>
        <script src="script/pack_builder/utils.js" type="text/javascript"></script>
        <script src="script/pack_builder/ui.js" type="text/javascript"></script>
        <script src="script/pack_builder/cookie.js" type="text/javascript"></script>
        <script src="script/pack_builder/def.js" type="text/javascript"></script>
        <script src="script/pack_builder/filters.js" type="text/javascript"></script>
        <script src="script/pack_builder/toast.js" type="text/javascript"></script>
        <script src="script/pack_builder/sharing.js" type="text/javascript"></script>
        <script src="script/pack_builder/textures.js" type="text/javascript"></script>
        <script src="script/pack_builder/build.js" type="text/javascript"></script>
        <script src="script/pack_builder/upload.js" type="text/javascript"></script>
        <script src="script/pack_builder/audio.js" type="text/javascript"></script>
        <script src="script/pack_builder/changelog.js" type="text/javascript"></script>
        <script src="script/pack_builder/random_song.js" type="text/javascript"></script>
        <script src="https://www.youtube.com/iframe_api"></script>
        <script>      
            const ZELDA_NAME = "The Legend of Zelda: "
            let midi_data_copy = null;
            let total_data_copy = null;
            let current_game = null;
            let uploaded_pack_data = {};
            const BASE_NO_ICON_IMG = "https://d1nhio0ox7pgb.cloudfront.net/_img/g_collection_png/standard/512x512/question.png"
            const MISC_NAME = "Other"
            let output_as_encoded = false;
            const TRANSITION_SPEED = 150
            const TRANSITION_BUFFER = 1
            const DELISTED_TAG = "Delisted"
            const GITHUB_AUDIO = "github.com/theballaam96/candys-shop/raw/main/previews"
            let pack_zip_data = null;
            
            function toggleShowName(el) {
                if (el.innerText == "Show") {
                    el.innerText = "Hide";
                } else {
                    el.innerText = "Show";
                }
            }

            if ((!site_is_down) || (window.location.origin.includes("localhost"))) {
                getMidiData();
            } else {
                updateProgress(1, 1, "Site is down for Maintainence. Please check back later", true)
            }

            const group_internal_to_name = {
                "bgm": "Background Music",
                "events": "Events",
                "majoritems": "Major Items",
                "minoritems": "Minor Items",
            }

            function scrollTo(value = 0) {
                document.body.scrollTop = value; // For Safari
                document.documentElement.scrollTop = value; // For Chrome, Firefox, IE and Opera
            }

            let stored_scroll = 0;

            function changeGlobalSongListState(shown=true) {
                const global_song_list = document.getElementById("song_list");
                const game_song_list = document.getElementById("popup_global_container");
                
                // Check if critical elements exist
                if (!global_song_list || !game_song_list) {
                    console.warn("Critical elements for changeGlobalSongListState are missing");
                    return;
                }         
                const game_song_buttons = document.getElementById("popup_master_controls");
                const sticky_controls = document.getElementById("sticky-controls");
                const ss_count_el = document.getElementById("song_selected_count");
                const main_breadcrumb = document.getElementById("home-breadcrumb");
                const sub_breadcrumb = document.getElementById("sub-breadcrumb");
                
                const was_shown = !global_song_list.hasAttribute("hidden");
                if (shown == was_shown) {
                    return;
                }
                if (shown) {
                    game_song_list.style.opacity = 0;
                    if (game_song_buttons) game_song_buttons.style.opacity = 0;
                    if (sticky_controls) sticky_controls.style.opacity = 0;
                    if (main_breadcrumb) {
                        main_breadcrumb.classList.add("active");
                        main_breadcrumb.setAttribute("aria-current","page");
                        main_breadcrumb.innerHTML = "Home";
                    }
                    if (sub_breadcrumb) {
                        sub_breadcrumb.classList.remove("active");
                        sub_breadcrumb.removeAttribute("aria-current");
                        sub_breadcrumb.classList.add("hide");
                    }
                    setTimeout(() => {
                        game_song_list.setAttribute("hidden","");
                        if (game_song_buttons) game_song_buttons.setAttribute("hidden","");
                        if (sticky_controls) sticky_controls.setAttribute("hidden","");
                        global_song_list.removeAttribute("hidden");
                        if (ss_count_el) ss_count_el.removeAttribute("hidden");
                        setTimeout(() => {
                            global_song_list.style.opacity = 1;
                            if (ss_count_el) ss_count_el.style.opacity = 1;
                        }, TRANSITION_BUFFER);
                        scrollTo(stored_scroll);
                    }, TRANSITION_SPEED);
                } else {
                    global_song_list.style.opacity = 0;
                    if (ss_count_el) ss_count_el.style.opacity = 0;
                    if (main_breadcrumb) {
                        main_breadcrumb.classList.remove("active");
                        main_breadcrumb.removeAttribute("aria-current");
                        main_breadcrumb.innerHTML = "<a href='#' class='excluded_link'>Home</a>";
                    }
                    if (sub_breadcrumb) {
                        sub_breadcrumb.classList.add("active");
                        sub_breadcrumb.setAttribute("aria-current","page");
                        sub_breadcrumb.classList.remove("hide");
                    }
                    stored_scroll = document.body.scrollTop;
                    setTimeout(() => {
                        global_song_list.setAttribute("hidden","");
                        if (ss_count_el) ss_count_el.setAttribute("hidden", "");
                        game_song_list.removeAttribute("hidden");
                        if (game_song_buttons) game_song_buttons.removeAttribute("hidden");
                        if (sticky_controls) sticky_controls.removeAttribute("hidden");
                        setTimeout(() => {
                            game_song_list.style.opacity = 1;
                            if (game_song_buttons) game_song_buttons.style.opacity = 1;
                            if (sticky_controls) sticky_controls.style.opacity = 1;
                        }, TRANSITION_BUFFER);
                        scrollTo();
                    }, TRANSITION_SPEED);
                }
            }
            window.changeGlobalSongListState = changeGlobalSongListState;

            function hidePopup() {
                document.getElementById("addSongClose").click();
                changeGlobalSongListState(true);
                setTimeout(() => {
                    const game_song_list = document.getElementById("popup_controls")
                    game_song_list.innerHTML = "";
                    updateCount()
                }, 300 + TRANSITION_SPEED)
            }

            let folder_data = {}
            let build_progress = 0;
            let build_limit = 0;

            function updateMaster() {
                const all_checkboxes = document.getElementsByClassName("song-select");
                let all_checked = true;
                let all_unchecked = true;
                for (c = 0; c < all_checkboxes.length; c++) {
                    if (all_checkboxes[c].checked) {
                        all_unchecked = false;
                    } else {
                        all_checked = false;
                    }
                }
                const fa_hook = document.getElementById("select-all-songs-fa");
                fa_hook.classList.remove("fa-regular");
                fa_hook.classList.remove("fa-solid");
                let text = "Select All Songs";
                if (all_checked) {
                    text = "Deselect All Songs";
                    fa_hook.classList.add("fa-regular");
                } else {
                    fa_hook.classList.add("fa-solid");
                }
                document.getElementById("select-all-songs").innerText = text;
                window.updateGameCount();
                updateCount();
            }
            window.updateMaster = updateMaster;

            function updateCount() {
                const count = window.getSongSelectedCount();
                let song_text = "songs"
                if (count == 1) {
                    song_text = "song";
                }
                document.getElementById("song_selected_count").innerText = `${count}/${midi_data_copy.length} ${song_text} selected.`;
            }
            window.updateCount = updateCount;

            function isNumeric(str) {
                if (typeof str == "number") return true // Failsafe
                if (typeof str != "string") return false // we only process strings!  
                return !isNaN(str) && // use type coercion to parse the _entirety_ of the string (`parseFloat` alone does not do this)...
                        !isNaN(parseFloat(str)) // ...and ensure strings of whitespace fail
            }

            function produceSelectAllSongsWarning() {
                document.getElementById("sasWarningInitiator").click();
            }

            function selectAllSongs() {
                const checkboxes = document.getElementsByClassName("song-select");
                let all_checked = true;
                for (let c = 0; c < checkboxes.length; c++) {
                    if (!checkboxes[c].checked) {
                        all_checked = false;
                    }
                }
                for (let c = 0; c < checkboxes.length; c++) {
                    checkboxes[c].checked = !all_checked;
                }
                updateMaster();
            }

            function willAutoDownload() {
                const queryString = window.location.search;
                const urlParams = new URLSearchParams(queryString);
                const will_download = urlParams.get("download") == "true";
                return will_download;
            }

            function readFile(file, start, size) {
                let value = 0;
                for (let i = 0; i < size; i++) {
                    value <<= 8;
                    value += file[start + i];
                }
                return value;
            }

            function getSongLength(file) {
                // Get song length from file array
                const PPQ = readFile(file, 0x40, 4);
                for (let i = 0; i < 16; i++) {
                    const track_header = readFile(file, i * 4, 4);
                    if (track_header != 0) {
                        
                    }
                }
            }

            function dumpInvalidData(data, title, previous_error) {
                if (data.length > 0) {
                    console.log(title)
                    console.log(data)
                    console.log("----------------------")
                    previous_error = true
                }
                return previous_error;
            }

            function checkInvalidSongs() {
                const tag_limit = 3;
                const location_tags = ["Lobbies and Shops", "Minigames", "Spawning", "Fights", "Collection", "Interiors", "Exteriors"]
                const missing_location_tag = midi_data_copy.filter(item => item.group == "bgm").filter(item => !item.tags.some(i => location_tags.includes(i))).map(item => `${item.game} ${item.name} by ${item.converter}`)
                const too_many_tags = midi_data_copy.filter(item => item.tags.filter(tag => location_tags.includes(tag)).length > tag_limit)
                let has_error = false;
                has_error = dumpInvalidData(missing_location_tag, "MISSING A LOCATION TAG", has_error);
                has_error = dumpInvalidData(too_many_tags, "HAS TOO MANY TAGS", has_error);
                if (!has_error) {
                    console.log("No errors found")
                }
            }

            document.addEventListener('DOMContentLoaded', function() {
                if (typeof window.initTextureUpload === 'function') {
                    window.initTextureUpload();
                }
            });
        </script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    </body>
</html>
